(function(t){function e(e){for(var o,s,r=e[0],c=e[1],u=e[2],d=0,f=[];d<r.length;d++)s=r[d],a[s]&&f.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"011d":function(t,e,n){"use strict";var o=n("8d82"),a=n.n(o);a.a},"07bd":function(t,e,n){"use strict";var o=n("7806"),a=n("478b"),i=n("2877"),s=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=s.exports},"0cfb":function(t,e,n){},"0eef":function(t,e,n){},"104b":function(t,e,n){},1628:function(t,e,n){"use strict";var o=n("247a"),a=n.n(o);a.a},"1b40":function(t,e,n){"use strict";var o=n("cb7e"),a=n.n(o);a.a},"20bf":function(t,e,n){},"247a":function(t,e,n){},"2b71":function(t,e,n){"use strict";var o=n("20bf"),a=n.n(o);a.a},"3e82":function(t,e,n){},"478b":function(t,e,n){"use strict";var o=n("c3d9"),a=n.n(o);e["default"]=a.a},5068:function(t,e,n){"use strict";var o=n("91c9"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getBackground,attrs:{id:"app"}},[n("Header"),n("div",{staticClass:"notificationholder"},[n("transition-group",{attrs:{name:"card",tag:"ul"}},t._l(t.getNotifications,function(e,o){return n("Notification",{key:o+1,attrs:{type:e.type,content:e.message,index:o,deleteThis:t.removeNotification}})}),1)],1),n("transition",{attrs:{name:"fade",mode:"out-in"}},["/"===this.$router.history.current.path?n("Sidebar"):t._e()],1),n("div",{attrs:{id:"container"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1),n("transition",{attrs:{name:"fade"}},["/"===t.getUrl?n("button",{staticClass:"smallgtaddbutton",on:{click:t.goToAdd}},[t._v("+ add")]):t._e()])],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[t.getUrl?n("button",{class:{active:t.checkSidebar},on:{click:t.toggleSidebar}},[t._v("filter")]):t._e(),n("div",{staticClass:"logocontainer"},[n("h1",{on:{click:function(e){return t.goHome()}}},[t._v("\n      trondo\n      "),n("span",[t._v(".")])])]),n("ul",{class:{navlinks:!0,open:t.menuClass}},[t.checkIfAuth?t._e():n("li",{on:{click:t.toggleMenu}},[n("router-link",{attrs:{to:"/login"}},[t._v("Log In")])],1),t.checkIfAuth?t._e():n("li",{on:{click:t.toggleMenu}},[n("router-link",{attrs:{to:"/register"}},[t._v("Sign up")])],1),t.checkIfAuth?n("li",{on:{click:function(e){return t.toggleMenu()}}},[n("router-link",{attrs:{to:"/daily"}},[t._v("Daily Tasks")])],1):t._e(),t.checkIfAuth?n("li",[t._v("Logged in as "+t._s(t.getUser.name))]):t._e(),t.checkIfAuth?n("li",{on:{click:function(e){return t.toggleMenu()}}},[n("router-link",{attrs:{to:"/settings"}},[t._v("Settings")])],1):t._e(),t.checkIfAuth?n("li",{on:{click:t.logOut}},[t._v("Log out")]):t._e()]),n("font-awesome-icon",{class:{hamburger:!0,open:t.menuClass},attrs:{icon:"bars"},on:{click:t.toggleMenu}})],1)},r=[],c={name:"Header",data:function(){return{open:!1}},methods:{goHome:function(){this.$router.push("/")},logOut:function(){this.$store.dispatch("logOut"),this.$router.push("login"),this.toggleMenu()},toggleMenu:function(){this.open=!this.open,this.$store.getters.getSidebarState&&this.$store.dispatch("toggleSidebar")},toggleSidebar:function(){this.open&&(this.open=!this.open),this.$store.dispatch("toggleSidebar")}},computed:{checkIfAuth:function(){return this.$store.getters.checkIfAuth},getUser:function(){return this.$store.getters.getCurrentUser},menuClass:function(){return this.open},checkSidebar:function(){return this.$store.getters.getSidebarState},getUrl:function(){return"/"==this.$store.getters.getUrl}}},u=c,l=(n("6c45"),n("2877")),d=Object(l["a"])(u,s,r,!1,null,"7443c6e1",null),f=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{sidebar:!0,open:t.checkSidebar}},[n("div",{staticClass:"filter"},[n("p",{staticClass:"filterheader"},[t._v("filter")]),n("div",{class:t.setClassBasedOnFIlter("none"),on:{click:function(e){return t.setFilter("none")}}},[n("div",{staticClass:"pin"}),n("p",[t._v("none")])]),n("div",{class:t.setClassBasedOnFIlter("personal"),on:{click:function(e){return t.setFilter("personal")}}},[n("div",{staticClass:"pin"}),n("p",[t._v("personal")])]),n("div",{class:t.setClassBasedOnFIlter("business"),on:{click:function(e){return t.setFilter("business")}}},[n("div",{staticClass:"pin"}),n("p",[t._v("business")])])]),n("button",{on:{click:t.goToAdd}},[t._v("+ Add")])])},p=[],h={name:"Sidebar",methods:{goToAdd:function(){this.$router.push("/add")},setFilter:function(t){this.$store.dispatch("setFilter",t),this.$store.dispatch("toggleSidebar")},setClassBasedOnFIlter:function(t){return t===this.$store.getters.getCurrentFilter?"filterbutton active":"filterbutton"}},computed:{checkSidebar:function(){return this.$store.getters.getSidebarState}}},g=h,v=(n("1b40"),Object(l["a"])(g,m,p,!1,null,"0a7784f5",null)),k=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.setClass},[n("p",[t._v(t._s(t.content))]),n("span",{on:{click:function(e){return t.deleteThis(t.index)}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])},y=[],_=(n("c5f6"),{name:"notification",props:{type:String,content:String,deleteThis:Function,index:Number},computed:{setClass:function(){return"success"===this.type?"notification success":"notification error"}}}),w=_,C=(n("8f62"),Object(l["a"])(w,b,y,!1,null,"6337a438",null)),$=C.exports,x=n("bc3a"),j=n.n(x),T={name:"app",components:{Header:f,Sidebar:k,Notification:$},methods:{goToAdd:function(){this.$router.push("/add")},goToAddProject:function(){this.$router.push("/newproject")},removeNotification:function(t){this.$store.dispatch("removeNotification",{index:t})}},computed:{getNotifications:function(){return this.$store.getters.getNotifications},getBackground:function(){return this.$store.getters.getBackground},getUrl:function(){return this.$store.getters.getUrl}},updated:function(){this.$store.dispatch("changeUrl",this.$router.history.current.path)}},S=T,O=(n("cf25"),Object(l["a"])(S,a,i,!1,null,null,null)),A=O.exports,P=n("8c4f"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticClass:"todo-container",attrs:{name:"fade",tag:"div"}},t._l(t.todos,function(e,o){return n("Todo",{key:o+1,attrs:{index:o,content:e,remove:t.removeTodo}})}),1)},N=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo"},[n("div",{staticClass:"categ"},[t._v(t._s("business"===t.content.kind?"B":"P"))]),n("p",{staticClass:"title"},[t._v(t._s(t.content.title))]),t.content.due?n("p",{staticClass:"date"},[t._v(t._s(t.content.due))]):t._e(),n("div",{staticClass:"delete",on:{click:function(e){return t.remove(t.content._id)}}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1)])},I=[],F={name:"Todo",props:{content:Object,remove:Function,index:Number},methods:{checkKind:function(t){var e="business"===t?"B":"P";return e}}},U=F,E=(n("011d"),Object(l["a"])(U,D,I,!1,null,"1abe4868",null)),z=E.exports,M={name:"Todos",data:function(){return{listener:null}},methods:{removeTodo:function(t){var e=this;this.$store.dispatch("removeTodo",{id:t}).then(function(){return e.$store.dispatch("handleFetchedTodos")})}},computed:{todos:function(){return this.$store.getters.getTodos}},components:{Todo:z},beforeMount:function(){this.$store.dispatch("handleFetchedTodos")}},V=M,q=(n("e0e1"),Object(l["a"])(V,B,N,!1,null,"2e909065",null)),L=q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"formcontainer"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.post(e)}}},[n("h2",[t._v("Add a new task")]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"title",staticClass:"text",attrs:{type:"text",placeholder:"task"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.due,expression:"due"}],staticClass:"text",attrs:{type:"text",placeholder:"deadline (optional)"},domProps:{value:t.due},on:{input:function(e){e.target.composing||(t.due=e.target.value)}}})]),n("div",{staticClass:"formgroup"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.kind,expression:"kind"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.kind=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"personal"}},[t._v("personal")]),n("option",{attrs:{value:"business"}},[t._v("business")])])]),n("button",{class:t.showButton,attrs:{type:"submit"}},[t._v("+ add")])])])},R=[],Y={data:function(){return{title:"",due:"",kind:"personal",sendable:!1}},mounted:function(){this.$refs.title.focus()},methods:{post:function(){var t=this,e=this.$store.getters.getCurrentUser;""!==this.title.trim()&&(this.$store.dispatch("addTodo",{title:this.title,kind:this.kind,due:this.due,id:e.id}).then(function(){return t.$store.dispatch("handleFetchedTodos")}),this.$router.push("/"))}},computed:{showButton:function(){return this.title.trim()?"":"disabled"}}},J=Y,W=Object(l["a"])(J,H,R,!1,null,null,null),K=W.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"formcontainer"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[n("h2",[t._v("Sign up")]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"register",staticClass:"text",attrs:{type:"text",placeholder:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"register",staticClass:"text",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"text",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{attrs:{type:"submit"}},[t._v("Sign up")]),n("p",[t._v("\n      Already have an account?\n      "),n("br"),n("router-link",{staticClass:"blue",attrs:{to:"/login"}},[t._v("Log in instead.")])],1)])])},Q=[],X=(n("7f7f"),{name:"register",data:function(){return{name:"",email:"",password:""}},methods:{register:function(){var t=this;this.name&&this.email&&this.password&&this.$store.dispatch("register",{email:this.email,password:this.password,name:this.name}).then(function(){return t.$router.push("/")})}},mounted:function(){this.$refs.register.focus()}}),Z=X,tt=(n("2b71"),Object(l["a"])(Z,G,Q,!1,null,"62bacf51",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"projectscontainer"},[n("transition",{attrs:{name:"fade",tag:"div"}},[n("div",[t.defaultView?n("transition-group",{staticClass:"projectlist",attrs:{tag:"ul",name:"fade-projects"}},t._l(t.tasks,function(t,e){return n("dtask",{key:e+1,attrs:{data:t}})}),1):n("div",{attrs:{id:"formcontainer"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.addNewDtask(e)}}},[n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"text",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("button",{attrs:{type:"submit"}},[t._v("+ add")])])])],1)]),t.defaultView?n("button",{staticClass:"smallgtaddbutton",on:{click:t.showAdd}},[t._v("+ add")]):t._e()],1)},ot=[],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo",class:t.data.completed?"finished":""},[n("p",[t._v(t._s(t.data.title))]),t.data.completed?n("div",{staticClass:"checker",on:{click:function(e){return t.complete(t.data._id)}}},[n("font-awesome-icon",{attrs:{icon:"check-circle"}})],1):n("div",{staticClass:"checker",on:{click:function(e){return t.complete(t.data._id)}}},[n("font-awesome-icon",{attrs:{icon:"circle"}})],1),n("div",{staticClass:"delete",on:{click:function(e){return t.remove(t.data._id)}}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1)])},it=[],st={name:"dtask",props:{data:Object},methods:{complete:function(t){this.$store.dispatch("completeDailyTask",{id:t})},remove:function(t){this.$store.dispatch("deleteDailyTask",{id:t})}}},rt=st,ct=(n("963f"),Object(l["a"])(rt,at,it,!1,null,"382c1e1d",null)),ut=ct.exports,lt={name:"dailytasks",components:{dtask:ut},data:function(){return{defaultView:!0,title:""}},methods:{addNewDtask:function(){this.title&&(this.$store.dispatch("addDailyTask",{title:this.title}),this.defaultView=!0,this.title="")},showAdd:function(){this.defaultView=!1}},computed:{tasks:function(){return this.$store.getters.getDailyTasks}},created:function(){this.$store.dispatch("getDailyTasks")}},dt=lt,ft=(n("5068"),Object(l["a"])(dt,nt,ot,!1,null,"e4cf21de",null)),mt=ft.exports,pt=n("07bd"),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"formcontainer"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.addNewProject(e)}}},[n("h2",[t._v("Add a new project")]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"login",staticClass:"text",attrs:{type:"text",placeholder:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("button",{attrs:{type:"submit"}},[t._v("Add project")])])])},gt=[],vt={name:"Newproject",data:function(){return{title:"",background:"default"}},methods:{addNewProject:function(){var t=this;this.$store.dispatch("addNewProject",{title:this.title}).then(function(){t.$store.dispatch("getUserProjects"),t.$router.push("/projects")})},changeBackgroundValue:function(t){this.background=t}},computed:{classChecker:function(){var t=this;return function(e){return e===t.background}}}},kt=vt,bt=(n("57ea"),Object(l["a"])(kt,ht,gt,!1,null,null,null)),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"formcontainer"}},[n("form",{attrs:{slot:"form"},on:{submit:function(e){return e.preventDefault(),t.login(e)}},slot:"form"},[n("h2",[t._v("Log in")]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"login",staticClass:"text",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"formgroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"text",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{attrs:{type:"submit"}},[t._v("Log in")]),n("p",[t._v("\n      Don't have an account?\n      "),n("br"),n("router-link",{staticClass:"blue",attrs:{to:"/register"}},[t._v("Make one instead.")])],1)])])},wt=[],Ct={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this;this.$store.dispatch("login",{email:this.email,password:this.password}).then(function(){return t.$router.push("/")}).catch(function(t){return console.log("what the fuck did you just do")})}},mounted:function(){this.$refs.login.focus()}},$t=Ct,xt=(n("1628"),Object(l["a"])($t,_t,wt,!1,null,null,null)),jt=xt.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"formcontainer"}},[n("h2",[t._v("Change background")]),n("div",{staticClass:"imagegrid"},[n("div",{class:{default:!0,active:t.classChecker("default")},on:{click:function(e){return t.changeBackgroundValue("default")}}}),n("div",{class:{fog:!0,active:t.classChecker("fog")},on:{click:function(e){return t.changeBackgroundValue("fog")}}}),n("div",{class:{mountains:!0,active:t.classChecker("mountains")},on:{click:function(e){return t.changeBackgroundValue("mountains")}}}),n("div",{class:{road:!0,active:t.classChecker("road")},on:{click:function(e){return t.changeBackgroundValue("road")}}}),n("div",{class:{wave:!0,active:t.classChecker("wave")},on:{click:function(e){return t.changeBackgroundValue("wave")}}})])])},St=[],Ot={name:"settings",data:function(){return{title:"",background:"default"}},methods:{changeBackgroundValue:function(t){this.$store.dispatch("changeBackgroundAction",t)}},computed:{classChecker:function(){var t=this;return function(e){return e===t.$store.getters.getBackground}}}},At=Ot,Pt=(n("5e34"),Object(l["a"])(At,Tt,St,!1,null,"83987b76",null)),Bt=Pt.exports,Nt=(n("96cf"),n("3b8d")),Dt=(n("20d6"),n("2f62"));o["a"].use(Dt["a"]);var It="",Ft=new Dt["a"].Store({state:{strict:!0,todos:[],projects:[],filterBy:"none",notifications:[],user:{},token:localStorage.getItem("token")||"",authorized:!1,sideBarOpen:!1,listener:null,background:"#dcedff",url:"",dailytasks:[]},getters:{getTodos:function(t){return"none"===t.filterBy?t.todos:t.todos.filter(function(e){return e.kind===t.filterBy})},getDailyTasks:function(t){return t.dailytasks},getCurrentFilter:function(t){return t.filterBy},getCurrentUser:function(t){return t.user},checkIfAuth:function(t){return t.authorized},getSidebarState:function(t){return t.sideBarOpen},getNotifications:function(t){return t.notifications},getBackground:function(t){return t.background},getUrl:function(t){return t.url}},mutations:{setDailyTasks:function(t,e){var n=e.tasks;t.dailytasks=n},changeBackground:function(t,e){t.background=e},toggleSidebar:function(t){t.sideBarOpen=!t.sideBarOpen},setFilter:function(t,e){t.filterBy=e},notify:function(t,e){var n=e.message,o=e.type;t.notifications.push({message:n,type:o}),setTimeout(function(){var e=t.notifications.findIndex(function(t){return t.message===n});t.notifications.splice(e,1)},9e3)},authorize:function(t,e){t.authorized=!0,t.user=e.user,t.token=e.token,t.background=e.user.background},unAuthorize:function(t){t.authorized=!1,t.user={}},handleFetchedTodos:function(t,e){t.todos=e},handleFetchedProjects:function(t,e){t.projects=e},handleFetchedProjectTasks:function(t,e){t.projectTasks=e},removeNotification:function(t,e){var n=e.index;t.notifications.splice(n,1)},changeUrl:function(t,e){t.url=e}},actions:{register:function(t,e){var n=t.commit,o=e.email,a=e.password,i=e.name;return new Promise(function(t,e){j.a.post(It+"/users",{email:o,password:a,name:i}).then(function(e){var o=e.data.token,a=e.data.user;n("authorize",{user:a,token:o}),localStorage.setItem("token",{token:o,user:a}),j.a.defaults.headers.common["Authorization"]=o,n("notify",{message:"Welcome ".concat(a.name),type:"success"}),t(e)}).catch(function(t){e(t),localStorage.removeItem("token")})})},login:function(t,e){var n=t.commit,o=e.email,a=e.password;return new Promise(function(t,e){j.a.post(It+"/users/login",{email:o,password:a}).then(function(e){var o=e.data.token,a=e.data.user;n("authorize",{user:a,token:o}),localStorage.setItem("token",o),j.a.defaults.headers.common["Authorization"]=o,n("notify",{message:"Welcome ".concat(a.name),type:"success"}),t(e)}).catch(function(t){e(t),n("notify",{message:"Invalid credentials",type:"error"})})})},logOut:function(t){var e=t.commit;localStorage.removeItem("token"),e("unAuthorize"),j.a.post(It+"/users/logout")},addTodo:function(t,e){t.commit;var n=e.title,o=e.kind,a=e.due,i=e.id;return new Promise(function(t,e){j.a.post(It+"/tasks",{title:n,kind:o,due:a,id:i}).then(function(e){return t(e)})})},handleFetchedTodos:function(t,e){var n=t.commit;j.a.get(It+"/tasks").then(function(t){n("handleFetchedTodos",t.data)})},removeTodo:function(t,e){var n=t.commit,o=e.id;return new Promise(function(t,e){j.a.delete("".concat(It,"/tasks/").concat(o)).then(function(e){n("notify",{message:"Successfully deleted task",type:"success"}),t(e)})})},checkIfAuth:function(){var t=Object(Nt["a"])(regeneratorRuntime.mark(function t(e){var n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,!localStorage.getItem("token")){t.next=6;break}return t.next=4,j.a.get(It+"/users/me");case 4:o=t.sent,n("authorize",{user:o.data,token:localStorage.getItem("token")});case 6:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),notify:function(t,e){var n=t.commit;n("notify",e)},setFilter:function(t,e){var n=t.commit;n("setFilter",e)},toggleSidebar:function(t){var e=t.commit;e("toggleSidebar")},removeNotification:function(t,e){var n=t.commit;n("removeNotification",e)},addNewProject:function(t,e){t.commit;j.a.post(It+"/projects",{title:e.title})},getUserProjects:function(t,e){var n=t.commit;return new Promise(function(t,e){j.a.get(It+"/projects").then(function(e){return n("handleFetchedProjects",e.data),t(e.data)})})},addDailyTask:function(t,e){var n=t.commit,o=e.title;j.a.post("".concat(It,"/dtasks"),{title:o}).then(function(t){n("setDailyTasks",{tasks:t.data})})},getDailyTasks:function(t){var e=t.commit;j.a.get("".concat(It,"/dtasks")).then(function(t){if(0==t.data.length)return e("notify",{message:"You have no daily tasks yet",type:"success"}),e("setDailyTasks",[]);e("setDailyTasks",{tasks:t.data})}).catch(function(t){return e("notify",{message:"Something went wrong",type:t})})},completeDailyTask:function(t,e){var n=t.commit,o=e.id;j.a.patch("".concat(It,"/dtasks/").concat(o)).then(function(t){if(0==t.data.length)return n("notify",{message:"You have no daily tasks yet",type:"success"}),n("setDailyTasks",[]);n("setDailyTasks",{tasks:t.data}),t.data.filter(function(t){return t._id===o})[0].completed&&n("notify",{message:"Nice job!",type:"success"})})},deleteDailyTask:function(t,e){var n=t.commit,o=e.id;j.a.delete("".concat(It,"/dtasks/").concat(o)).then(function(t){if(0==t.data.length)return n("notify",{message:"You have no daily tasks yet",type:"success"}),n("setDailyTasks",[]);n("setDailyTasks",{tasks:t.data})})},changeBackgroundAction:function(t,e){var n=t.commit;n("changeBackground",e),j.a.patch(It+"/users/me",{background:e})},changeUrl:function(t,e){var n=t.commit;n("changeUrl",e)}}});o["a"].use(P["a"]);var Ut=new P["a"]({mode:"history",base:"/",routes:[{path:"*",redirect:"/login"},{path:"/register",component:et,name:"register"},{path:"/login",component:jt,name:"login"},{path:"/daily",component:mt,name:"Projects",meta:{requiresAuth:!0}},{path:"/project/:id",component:pt["default"],name:"Project",meta:{requiresAuth:!0}},{path:"/newproject",component:yt,name:"Newproject",meta:{requiresAuth:!0}},{path:"/settings",component:Bt,name:"settings",meta:{requiresAuth:!0}},{path:"/",component:L,name:"home",meta:{requiresAuth:!0}},{path:"/add",component:K,meta:{requiresAuth:!0}}]});Ut.onReady(function(){Ft.dispatch("checkIfAuth")}),Ut.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})?localStorage.getItem("token")?n():n({path:"/login",params:t.fullPath}):n()});var Et=Ut,zt=n("ecee"),Mt=n("c074"),Vt=n("ad3d");o["a"].prototype.$http=j.a,zt["c"].add(Mt["a"],Mt["e"],Mt["d"],Mt["b"],Mt["c"]);var qt=localStorage.getItem("token");qt&&(o["a"].prototype.$http.defaults.headers.common["authorization"]=qt),o["a"].component("font-awesome-icon",Vt["a"]),o["a"].config.productionTip=!1,new o["a"]({store:Ft,router:Et,render:function(t){return t(A)}}).$mount("#app")},"57ea":function(t,e,n){"use strict";var o=n("e48c"),a=n.n(o);a.a},"5e34":function(t,e,n){"use strict";var o=n("3e82"),a=n.n(o);a.a},"6c45":function(t,e,n){"use strict";var o=n("0eef"),a=n.n(o);a.a},7806:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[t._v("This part of the website is under maintanance")])},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},"8c53":function(t,e,n){},"8d82":function(t,e,n){},"8f62":function(t,e,n){"use strict";var o=n("9d57"),a=n.n(o);a.a},"91c9":function(t,e,n){},"963f":function(t,e,n){"use strict";var o=n("8c53"),a=n.n(o);a.a},"9d57":function(t,e,n){},c3d9:function(t,e){},cb7e:function(t,e,n){},cf25:function(t,e,n){"use strict";var o=n("0cfb"),a=n.n(o);a.a},e0e1:function(t,e,n){"use strict";var o=n("104b"),a=n.n(o);a.a},e48c:function(t,e,n){}});
//# sourceMappingURL=app.509bb476.js.map